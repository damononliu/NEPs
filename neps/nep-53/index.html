<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Simple Summary #  A standard interface for encrypted variable tokens.
Abstract #  EVT(Encrypted Variable Token) is the replacement of NFT in metaverse and physical world.
The key features of EVT are variableness, encryption, traceability.
The following standard allows for the implementation of a standard API for EVTs within smart contracts. This standard provides basic functionality to track, transfer, dynamic properties, encryption.
We considered the use cases of EVTs including vitality assets, privacy based assets, digital identities."><meta property="og:title" content="Encrypted Variable Token Proposal (NRC-53)"><meta property="og:description" content="Simple Summary #  A standard interface for encrypted variable tokens.
Abstract #  EVT(Encrypted Variable Token) is the replacement of NFT in metaverse and physical world.
The key features of EVT are variableness, encryption, traceability.
The following standard allows for the implementation of a standard API for EVTs within smart contracts. This standard provides basic functionality to track, transfer, dynamic properties, encryption.
We considered the use cases of EVTs including vitality assets, privacy based assets, digital identities."><meta property="og:type" content="article"><meta property="og:url" content="https://neps.newtonproject.org/neps/nep-53/"><meta property="og:site_name" content="Newton Evolution Proposals (NEPs)"><title>Encrypted Variable Token Proposal (NRC-53) | Newton Evolution Proposals (NEPs)</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/newdocs.min.61198eece24911070cbaf1c60fef3ad76b93d2c4e0fee70bd533340bc5037fca.css integrity="sha256-YRmO7OJJEQcMuvHGD+8612uT0sTg/ucL1TM0C8UDf8o="><script defer src=/en.search.min.f18c11b865b7d595ae12f662df3a326ba4cb47e52514f0b5b9199a2fe4516acd.js integrity="sha256-8YwRuGW31ZWuEvZi3zoya6TLR+UlFPC1uRmaL+RRas0="></script><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><script>window.onload=function(){document.body.className=document.body.className.replace('preload','');};</script></head><body dir=ltr class=preload><nav id=navbar><input type=checkbox class="hidden toggle" id=menu-control><div class=container><input type=checkbox id=navbar-check><div class="header brand"><label for=navbar-check class=toggle><svg class="icon"><use xlink:href="/icons/bootstrap-icons.svg#filter-left"/></svg></label><a href=/><img src=/logo.svg alt=Logo class="logo invertable"><span style=display:none>Newton Evolution Proposals (NEPs)</span></a>
<label class="toggle transparent" color=none><svg class="icon"><use xlink:href="/icons/bootstrap-icons.svg#emoji-sunglasses"/></svg></label></div><div id=navbar-collapse><ul class=navbar-nav><li class="nav-item dropdown" style=order:100><a href=#>More</a><ul class=dropdown-menu><li class=nav-item><a href=https://github.com/newtonproject/neps>NEPs Github</a></li><li class=nav-item><a href=https://newtonproject.org>Newton Project</a></li><li class=nav-item><a href=https://explorer.newtonproject.org>Newton Explorer</a></li></ul></li><li class=nav-item><a href=/neps/>All NEPs</a></li><li class=nav-item><a href=/guides/>Guides</a></li><li class=nav-item><a href=/reviews/>Reviews</a></li></ul><div class=search-form><input type=search id=navbar-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class=search-results><ul id=navbar-search-results></ul></div></div></div></div></nav><main><div class=container><div id=breadcrumb><span><a href=https://neps.newtonproject.org/><i class="nf nf-oct-home"></i></a></span><span><a href=https://neps.newtonproject.org/neps/>NEPs</a></span>
<span class=active><a href=https://neps.newtonproject.org/neps/nep-53/>NEP-53</a></span></div></div><div class=container><div class=page-content><article class=markdown><h1>NEP-53: Encrypted Variable Token Proposal (NRC-53)</h1><table class=nep-table><tr><th>NEP</th><td>53</td></tr><tr><th>Title</th><td>Encrypted Variable Token Proposal (NRC-53)</td></tr><tr><th>Author(s)</th><td>Newton Core Team</td></tr><tr><th>Discussions To</th><td><a href=https://github.com/newtonproject/NEPs/issues/53>https://github.com/newtonproject/NEPs/issues/53</a></td></tr><tr><th>Category</th><td>Technical</td></tr><tr><th>Type</th><td>NRC</td></tr><tr><th>Status</th><td><span class="nep-status draft">Draft</span></td></tr><tr><th>Created</th><td>2022-07-01</td></tr></table><h2 id=simple-summary>Simple Summary
<a class=anchor href=#simple-summary>#</a></h2><p>A standard interface for encrypted variable tokens.</p><h2 id=abstract>Abstract
<a class=anchor href=#abstract>#</a></h2><p>EVT(Encrypted Variable Token) is the replacement of NFT in metaverse and physical world.</p><p>The key features of EVT are variableness, encryption, traceability.</p><p>The following standard allows for the implementation of a standard API for EVTs within smart contracts. This standard provides basic functionality to track, transfer, dynamic properties, encryption.</p><p>We considered the use cases of EVTs including vitality assets, privacy based assets, digital identities. We also considered a diverse universe of assets, and we know you will dream up many more:</p><ul><li>Metaverse — buildings, avatars, flowers, animals</li><li>Physical property — houses, artwork, movies, tickets</li><li>“Negative value” assets — loans, burdens and other responsibilities</li></ul><h2 id=motivation>Motivation
<a class=anchor href=#motivation>#</a></h2><p>This document aims to guide the EVT&rsquo;s integration and interoperationality with wallet, marketplace, metaverse.</p><h2 id=specification>Specification
<a class=anchor href=#specification>#</a></h2><p>EVT will inherit the interfaces of NRC7.</p><p>The current implementation of EVT is based on solidity programming language. In Solidity, serialization and deserialization is not built-in. So in the implementation of EVT, protobuf3 can be used for the serialization and deserialization of variable properties,</p><p><strong>Variable Interfaces</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-solidity data-lang=solidity><span style=color:#8be9fd;font-style:italic>interface</span> EVTVariable {
    <span style=color:#6272a4>/// @notice Set the dynamic property
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _propertyID property ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _propertyValue property value
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return Success or fail
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> setDynamicProperty(<span style=color:#8be9fd>uint256</span> _tokenId, <span style=color:#8be9fd>bytes32</span> _propertyID, <span style=color:#8be9fd>bytes</span> _propertyValue) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>payable</span> <span style=color:#ff79c6>returns</span>(<span style=color:#8be9fd>bool</span>);

    <span style=color:#6272a4>/// @notice Set multiple dynamic properties once
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _message message
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return Success or fail
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> setDynamicProperties(<span style=color:#8be9fd>uint256</span> _tokenId, <span style=color:#8be9fd>bytes</span> _message) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>payable</span> <span style=color:#ff79c6>returns</span>(<span style=color:#8be9fd>bool</span>);

    <span style=color:#6272a4>/// @notice Retrieve the vale of dynamic or static property
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _propertyID property ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return property value
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> getProperty(<span style=color:#8be9fd>uint256</span> _tokenId, <span style=color:#8be9fd>bytes32</span> _propertyID) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>bytes</span>);

    <span style=color:#6272a4>/// @notice Retrieve the all properties including dynamic and static
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return ids, properties
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> getProperties(<span style=color:#8be9fd>uint256</span> _tokenId) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>bytes32</span>[], <span style=color:#8be9fd>bytes</span>[]);

    <span style=color:#6272a4>/// @notice Check whether support the given property
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _propertyID property ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return support or unsupport
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> supportsProperty(<span style=color:#8be9fd>bytes32</span> _propertyID) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>bool</span>);
}
</code></pre></div><p><code>_propertyID</code> is calculated by <code>bytes32(keccak256('propertyName'))</code> .</p><p><strong>Encryption Interfaces</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-solidity data-lang=solidity><span style=color:#8be9fd;font-style:italic>interface</span> EVTEncryption {
    <span style=color:#6272a4>/// @notice Register the encrypted key
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _encryptedKeyID encrypted key ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _encryptedKeyValue encrypted key value
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return Success or fail
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> registerEncryptedKey(<span style=color:#8be9fd>uint256</span> _tokenId, <span style=color:#8be9fd>bytes32</span> _encryptedKeyID, <span style=color:#8be9fd>bytes</span> _encryptedKeyValue) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>payable</span> <span style=color:#ff79c6>returns</span>(<span style=color:#8be9fd>bool</span>);

    <span style=color:#6272a4>/// @notice Add the permission rule of the encrypted key for given address
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _encryptedKeyID encrypted key ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _owner owner
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _expiredTime expired time
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return Success or fail
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> addPermission(<span style=color:#8be9fd>uint256</span> _tokenId, <span style=color:#8be9fd>bytes32</span> _encryptedKeyID, <span style=color:#8be9fd>address</span> _owner, <span style=color:#8be9fd>uint256</span> _expiredTime) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>payable</span> <span style=color:#ff79c6>returns</span>(<span style=color:#8be9fd>bool</span>);

    <span style=color:#6272a4>/// @notice Remove the permission rule of the encrypted key for given address
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _encryptedKeyID encrypted key ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _owner owner
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return Success or fail
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> removePermission(<span style=color:#8be9fd>uint256</span> _tokenId, <span style=color:#8be9fd>bytes32</span> _encryptedKeyID, <span style=color:#8be9fd>address</span> _owner) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>bool</span>);

    <span style=color:#6272a4>/// @notice Check permission rule of the encrypted key for given address
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _encryptedKeyID encrypted key ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _owner owner
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return yes or no
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> hasPermission(<span style=color:#8be9fd>uint256</span> _tokenId, <span style=color:#8be9fd>bytes32</span> _encryptedKeyID, <span style=color:#8be9fd>address</span> _owner) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>bool</span>);

    <span style=color:#6272a4>/// @notice Retrieve the encrypted key value by encrypted key ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _tokenId token ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @param _encryptedKeyID encrypted key ID
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @return encrypted key value
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> getEncryptedKeyValue(<span style=color:#8be9fd>uint256</span> _tokenId, <span style=color:#8be9fd>bytes32</span> _encryptedKeyID) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>bytes</span>);
}
</code></pre></div><p>The <strong>metadata extension</strong> is for EVT smart contracts.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-solidity data-lang=solidity><span style=color:#8be9fd;font-style:italic>interface</span> EVTMetadata {
    <span style=color:#6272a4>/// @notice A descriptive name for a collection of EVTs in this contract
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> name() <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>string</span> _name);

    <span style=color:#6272a4>/// @notice A description EVTs in this contract
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> description() <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>string</span> _description);

    <span style=color:#6272a4>/// @notice A logo for EVTs in this contract
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> logo() <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>string</span> _logo);

    <span style=color:#6272a4>/// @notice An abbreviated name for EVTs in this contract
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> symbol() <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>string</span> _symbol);

    <span style=color:#6272a4>/// @notice A distinct Uniform Resource Identifier (URI) for a given asset.
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>/// @dev Throws if `_tokenId` is not a valid EVT. URIs are defined in RFC3986. 
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>///  The URI may point to a JSON file or Base64 encode data that conforms to the
</span><span style=color:#6272a4></span>    <span style=color:#6272a4>///  &#34;NRC7 Metadata JSON Schema&#34;.
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> tokenURI(<span style=color:#8be9fd>uint256</span> _tokenId) <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>string</span> <span style=color:#ff79c6>memory</span>);

    <span style=color:#6272a4>/// @notice tags for a collection of EVTs in this contract
</span><span style=color:#6272a4></span>    <span style=color:#8be9fd;font-style:italic>function</span> <span style=color:#ff79c6>from</span>() <span style=color:#ff79c6>external</span> <span style=color:#ff79c6>view</span> <span style=color:#ff79c6>returns</span> (<span style=color:#8be9fd>string</span>);
}
</code></pre></div><h2 id=implementations>Implementations
<a class=anchor href=#implementations>#</a></h2><p>Example implementations are available at</p><p><a href=https://github.com/newtonproject/evt-standard>evt-standard</a></p><h2 id=references>References
<a class=anchor href=#references>#</a></h2><p><strong>Standards</strong></p><ol><li><a href=https://neps.newtonproject.org/neps/nep-7>NEP-7</a> Non-Fungible Token Standard.</li></ol><h2 id=copyright>Copyright
<a class=anchor href=#copyright>#</a></h2><p>Copyright and related rights waived via
<a href=https://creativecommons.org/publicdomain/zero/1.0/>CC0</a>.</p></article><section class=git-info><div class="item links"><a href=https://github.com/newtonproject/NEPs/blob/main/NEPS/nep-53/index.md target=_blank title="Encrypted Variable Token Proposal (NRC-53) Source" rel=noopener><i class="nf nf-fa-code"></i>Source</a>
<a href=https://github.com/newtonproject/NEPs/edit/main/NEPS/nep-53/index.md title="Edit Encrypted Variable Token Proposal (NRC-53)" target=_blank rel=noopener><i class="nf nf-fa-edit"></i>Edit</a></div></section><div class=nav id=nav-prev-next><a class=previous href=https://neps.newtonproject.org/neps/nep-52/><div class=link><span>Previous</span><h4>Fee market change for NewChain</h4></div></a><a class=next href=https://neps.newtonproject.org/neps/nep-51/><div class=link><span>Next</span><h4>Changes On Community NEW Budget Plan for 2022</h4></div></a></div></div><aside id=aside-b><section class=toc><input type=checkbox class="hidden toggle" id=toc-control>
<label class=toggle for=toc-control id=toc-check><h3>On This Page<svg class="icon" id="toc-icon"><use xlink:href="/icons/bootstrap-icons.svg#caret-down-fill"/></svg></h3></label><nav id=TableOfContents><ul><li><a href=#simple-summary>Simple Summary</a></li><li><a href=#abstract>Abstract</a></li><li><a href=#motivation>Motivation</a></li><li><a href=#specification>Specification</a></li><li><a href=#implementations>Implementations</a></li><li><a href=#references>References</a></li><li><a href=#copyright>Copyright</a></li></ul></nav></section></aside></div></main><footer id=site-footer><div class=container><div class=brand><a class=footer-brand href=https://neps.newtonproject.org/><img src=https://neps.newtonproject.org//logo.svg class="logo invert" alt=Logo></a><p class=footer-info-text>Newton Evolution Proposals Website.</p><div class=social-icons><a href=https://github.com/newtonproject/newbridge.network target=_blank title=Github><i class="nf nf-oct-mark_github"></i></a><a href=https://twitter.com/newton_project target=_blank title=Twitter><i class="nf nf-fa-twitter"></i></a><a href=https://www.facebook.com/newtonproject target=_blank title=Facebook><i class="nf nf-fa-facebook_square"></i></a><a href=https://t.me/newtonproject target=_blank title=Telegram><i class="nf nf-mdi-telegram"></i></a></div></div><aside><ul><h3>Newton Project</h3><li><a href=https://www.newtonproject.org>Newton Project Website</a></li><li><a href=https://developer.newtonproject.org>Developer Website</a></li><li><a href=https://www.newtonproject.org/contact/>Contact Team</a></li></ul></aside><row><p>© 2021 Newton Project & Other Contributors</p></row></div></footer></body></html>